async function loadNews(){const e=document.getElementById("news-list");if(e)try{const n=await fetch("/data/news.json"),o=await n.json();if(0===o.length)return void(e.innerHTML="<li>No recent news available.</li>");const s=o.slice(0,5).map(e=>`\n            <li>\n                <span class="news-date">${e.date}</span>\n                <span>${e.content}</span>\n            </li>\n        `).join("");e.innerHTML=s}catch(n){console.log("News data not found, using default"),e.innerHTML='\n            <li>\n                <span class="news-date">Nov 2024</span>\n                <span>Website launched with new design</span>\n            </li>\n        '}}async function loadRecentPublications(){const e=document.getElementById("recent-publications");if(e){console.log("Loading publications...");try{const n=await fetch("/data/publications.json");if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const o=await n.json();if(console.log("Publications loaded:",o.length),0===o.length)return void(e.innerHTML="<p>No publications available yet.</p>");const s=o.slice(0,3).map(e=>`\n            <div class="publication-item">\n                ${e.image?`\n                    <div class="publication-image">\n                        <img src="${e.image}" alt="${e.title}" loading="lazy" width="400" height="300">\n                    </div>\n                `:""}\n                <div class="publication-content">\n                    <h3>${e.title}</h3>\n                    <p class="publication-authors">${e.authors}</p>\n                    <p class="publication-venue">${e.venue}</p>\n                    <p class="publication-year">${e.year}</p>\n                    ${e.links?`\n                        <div class="publication-links">\n                            ${e.links.map(e=>`<a href="${e.url}" target="_blank">${e.name}</a>`).join("")}\n                        </div>\n                    `:""}\n                </div>\n            </div>\n        `).join("");e.innerHTML=s,console.log("Publications rendered successfully")}catch(n){console.error("Publications data error:",n),e.innerHTML="<p>No publications available yet.</p>"}}else console.error("Publications container not found!")}async function loadRecentBlogPosts(){const e=document.getElementById("recent-blog-posts");if(e){console.log("Loading blog posts...");try{const n=await fetch("/data/blog-index.json?v="+Date.now());if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const o=(await n.json()).posts||[];console.log("Blog posts loaded:",o.length);let s=o.filter(e=>e.categories&&e.categories.includes("Research"));if(0===s.length&&(s=o),console.log("Filtered posts:",s.length),0===s.length)return void(e.innerHTML="<p>No blog posts available yet.</p>");s=s.slice(0,3);const t=s.map(e=>`\n            <a href="${e.content}" class="blog-card">\n                ${e.image?`<img src="${e.image}" alt="${e.title}" class="blog-card-image" loading="lazy" width="400" height="250">`:""}\n                <div class="blog-card-content">\n                    <span class="blog-category">${e.categories&&e.categories.length>0?e.categories[0]:"General"}</span>\n                    <h3>${e.title}</h3>\n                    <p class="blog-date">${e.date}</p>\n                    <p class="blog-excerpt">${e.excerpt||""}</p>\n                    <span class="read-more">Read more →</span>\n                </div>\n            </a>\n        `).join("");e.innerHTML=t,console.log("Blog posts rendered successfully")}catch(n){console.error("Blog data error:",n),e.innerHTML="<p>No blog posts available yet.</p>"}}else console.error("Blog posts container not found!")}async function loadRecentPodcastEpisodes(){const e=document.getElementById("recent-podcast-episodes");if(e){console.log("Loading podcast episodes...");try{const n=await fetch("/data/blog-index.json?v="+Date.now());if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const o=(await n.json()).posts||[];console.log("Podcast data loaded, filtering for podcast episodes");let s=o.filter(e=>e.categories&&e.categories.includes("Talking Papers Podcast"));if(console.log("Filtered podcast episodes:",s.length),0===s.length)return void(e.innerHTML="<p>No podcast episodes available yet.</p>");s=s.slice(0,3);const t=s.map(e=>`\n            <a href="${e.content}" class="blog-card">\n                ${e.image?`<img src="${e.image}" alt="${e.title}" class="blog-card-image" loading="lazy" width="400" height="250">`:""}\n                <div class="blog-card-content">\n                    <span class="blog-category">Podcast</span>\n                    <h3>${e.title}</h3>\n                    <p class="blog-date">${e.date}</p>\n                    <p class="blog-excerpt">${e.excerpt||""}</p>\n                    <span class="read-more">Listen now →</span>\n                </div>\n            </a>\n        `).join("");e.innerHTML=t,console.log("Podcast episodes rendered successfully")}catch(n){console.error("Podcast data error:",n),e.innerHTML="<p>No podcast episodes available yet.</p>"}}else console.error("Podcast episodes container not found!")}document.addEventListener("DOMContentLoaded",async function(){await loadNews(),await loadRecentBlogPosts(),await loadRecentPodcastEpisodes(),await loadRecentPublications()});