document.addEventListener("DOMContentLoaded",async function(){await loadBlogPosts(),setupFilters()});let allPosts=[];async function loadBlogPosts(){const e=document.getElementById("blog-container");if(e)try{const e=await fetch("/data/blog-index.json?v="+Date.now()),t=await e.json();allPosts=t.posts||[],renderPosts(allPosts)}catch(t){console.error("Error loading blog posts:",t),e.innerHTML="<p>No blog posts available yet.</p>"}}function renderPosts(e){const t=document.getElementById("blog-container");if(!t)return;if(0===e.length)return void(t.innerHTML="<p>No blog posts found.</p>");const s=e.map(e=>`\n        <a href="${e.content}" class="blog-card">\n            ${e.image?`<img src="${e.image}" alt="${e.title}" class="blog-card-image">`:""}\n            <div class="blog-card-content">\n                <span class="blog-category">${e.categories&&e.categories.length>0?e.categories[0]:"General"}</span>\n                <h3>${e.title}</h3>\n                <p class="blog-date">${e.date}</p>\n                <p class="blog-excerpt">${e.excerpt||""}</p>\n                <span class="read-more">Read more â†’</span>\n            </div>\n        </a>\n    `).join("");t.innerHTML=s}function setupFilters(){const e=document.querySelectorAll(".filter-btn");e.forEach(t=>{t.addEventListener("click",()=>{e.forEach(e=>e.classList.remove("active")),t.classList.add("active");const s=t.getAttribute("data-filter");if("all"===s)renderPosts(allPosts);else{renderPosts(allPosts.filter(e=>e.categories&&e.categories.includes(s)))}})})}