# Personal Website

A clean, responsive academic website built with Eleventy (11ty) static site generator. Features easy blog post management via Markdown files and dynamic content from JSON.

## Features

- ğŸ¨ Clean, modern design inspired by academic/researcher websites
- ğŸ“± Fully responsive (mobile, tablet, desktop)
- ğŸš€ Fast loading - static HTML generated by Eleventy
- ğŸ“ Easy blog post management via Markdown files
- ğŸ“š Publications page with dynamic loading
- âœï¸ Blog with individual post pages (Markdown to HTML)
- ğŸ™ï¸ Podcast episode listings
- ğŸ“§ Contact page with form
- âš¡ Optimized images (WebP with fallbacks)
- ğŸ”§ Minified CSS and JavaScript

## Structure

```
â”œâ”€â”€ _includes/               # Eleventy templates
â”‚   â”œâ”€â”€ layouts/
â”‚   â”‚   â”œâ”€â”€ base.njk        # Base template
â”‚   â”‚   â””â”€â”€ blog-post.njk   # Blog post template
â”‚   â””â”€â”€ partials/
â”‚       â”œâ”€â”€ nav.njk         # Navigation
â”‚       â””â”€â”€ footer.njk      # Footer
â”œâ”€â”€ blog/
â”‚   â””â”€â”€ posts-md/           # Blog posts (Markdown)
â”œâ”€â”€ _site/                   # Generated site (gitignored)
â”œâ”€â”€ index.html              # Homepage (processed by 11ty)
â”œâ”€â”€ publications.html       # Publications page
â”œâ”€â”€ blog.html              # Blog listing
â”œâ”€â”€ podcast.html           # Podcast episodes
â”œâ”€â”€ code.html              # Code/projects
â”œâ”€â”€ contact.html           # Contact page
â”œâ”€â”€ about.html             # About page
â”œâ”€â”€ css/
â”‚   â”œâ”€â”€ style.css          # Main styles
â”‚   â””â”€â”€ style.min.css      # Minified styles
â”œâ”€â”€ js/
â”‚   â”œâ”€â”€ main.js            # General functionality
â”‚   â”œâ”€â”€ navigation.js      # Navigation logic
â”‚   â”œâ”€â”€ data-loader.js     # Homepage data loading
â”‚   â”œâ”€â”€ publications-loader.js
â”‚   â”œâ”€â”€ blog-loader.js
â”‚   â””â”€â”€ podcast-loader.js
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ publications.json  # Publications data
â”‚   â”œâ”€â”€ blog-index.json    # Blog metadata (auto-generated)
â”‚   â””â”€â”€ archive/           # Historical migration data
â”œâ”€â”€ assets/
â”‚   â””â”€â”€ images/            # Optimized images (WebP + fallbacks)
â”œâ”€â”€ scripts/               # Maintenance scripts
â”‚   â”œâ”€â”€ archive/           # Archived 11ty migration scripts
â”‚   â””â”€â”€ one-time/          # Archived WordPress migration scripts
â”œâ”€â”€ docs/                  # Project documentation
â”œâ”€â”€ .eleventy.js           # Eleventy configuration
â””â”€â”€ package.json           # Dependencies and scripts
```

## Quick Start

### Prerequisites

1. **Clone the repository:**
   ```bash
   git clone https://github.com/yourusername/my_website.git
   cd my_website
   ```

2. **Install dependencies:**
   ```bash
   npm install
   ```

3. **Run development server:**
   ```bash
   npm run serve
   # Site available at http://localhost:8080
   # Auto-reloads on file changes
   # Note: First build generates responsive image variants (may take 1-2 minutes)
   ```

4. **Customize the content:**
   - Edit pages directly (index.html, about.html, etc.)
   - Update `data/publications.json` with your papers
   - Add blog posts as Markdown files in `blog/posts-md/`
   - Replace profile images in `assets/images/profile/`

5. **Build for production:**
   ```bash
   npm run build
   # Output in _site/ directory
   # Includes generated responsive image variants in assets/images/generated/
   ```

## NPM Scripts

### Development
- `npm run serve` - Start development server with hot reload (port 8080)
- `npm run dev` - Alias for `npm run serve`

### Building
- `npm run build` - Build production site (outputs to `_site/`)
- `npm run build:11ty` - Build site with Eleventy only
- `npm run build:js` - Minify JavaScript files
- `npm run build:css` - Minify CSS files

### Testing & Validation
- `npm run validate` - Run all validation checks (HTML + accessibility)
- `npm run validate:html` - Validate HTML syntax in `_site/` directory
- `npm run validate:accessibility` - Check accessibility with pa11y-ci
- `npm run test:performance` - Run Lighthouse performance audit
- `npm run test:accessibility` - Run axe accessibility test

## Adding Blog Posts

Blog posts are written in Markdown and automatically converted to HTML by Eleventy.

1. **Create a new Markdown file** in `blog/posts-md/`:
   ```bash
   # File naming: YYYY-MM-DD-title-slug.md
   blog/posts-md/2026-01-15-my-new-post.md
   ```

2. **Add frontmatter** at the top of the file:
   ```markdown
   ---
   layout: layouts/blog-post.njk
   title: "My New Blog Post Title"
   date: 2026-01-15
   author: Your Name
   permalink: "/blog/posts/2026-01-15-my-new-post.html"
   ---

   Your blog post content here in Markdown...

   ## Section Heading

   Paragraph text with **bold** and *italic*.

   - List item 1
   - List item 2
   ```

3. **Build the site:**
   ```bash
   npm run build
   ```

4. **The blog post will automatically:**
   - Be converted to HTML
   - Appear in the blog listing
   - Be added to `data/blog-index.json`
   - Have proper styling and navigation

**No manual HTML editing needed!** Just write Markdown and build.

## Maintenance Scripts

The repository includes Python scripts for ongoing maintenance tasks (see [scripts/README.md](scripts/README.md)):

- **`check_accessibility.py`** - WCAG 2.1 AA compliance checker
- **`check_heading_hierarchy.py`** - Validate heading structure
- **`validate-content.py`** - Validate JSON data files
- **`generate_sitemap.py`** - Generate XML sitemap (used in build)

Run scripts with `uv` for better cross-platform compatibility:
```bash
uv run python scripts/check_accessibility.py
```

**Historical scripts** from WordPress migration and 11ty conversion are archived in `scripts/one-time/` and `scripts/archive/` for reference.

## Automated Quality Checks

### GitHub Actions CI/CD

The repository includes automated validation in the CI/CD pipeline:

**HTML Validation Workflow** (`.github/workflows/html-validate.yml`):
- âœ… Runs automatically on pull requests and pushes to main
- âœ… Validates HTML syntax using `html-validate`
- âœ… Checks accessibility with `pa11y` using axe-core
- âœ… Reports issues without blocking (to allow gradual improvement)

**Configuration**:
- HTML validation rules: `.htmlvalidate.json`
- Follows WCAG 2.1 AA accessibility standards
- Validates all HTML files in `_site/` after build

**Local validation**:
```bash
# Build the site first
npm run build

# Run HTML validation (no server needed)
npm run validate:html

# Run accessibility checks (requires local server in separate terminal)
# Terminal 1: Start server
npm run serve

# Terminal 2: Run accessibility checks
npm run validate:accessibility

# Quick validation (HTML only, no server needed)
npm run validate
```

## Deployment

See [DEPLOYMENT.md](DEPLOYMENT.md) for detailed deployment instructions.

**Recommended:** Cloudflare Pages with automatic builds on push.

**Quick deployment:**
1. Push to GitHub
2. Connect repository to Cloudflare Pages
3. Set build command: `npm run build`
4. Set output directory: `_site`
5. Deploy!

Your site will automatically rebuild and deploy on every push to main.

## Automated Link Checking

This repository uses GitHub Actions to automatically check for broken links:

- **Runs on Pull Requests:** Validates links before merging to main branch
- **Weekly Schedule:** Runs every Monday at 9:00 AM UTC
- **Manual Trigger:** Can be triggered manually from the Actions tab

The workflow:
1. Builds the site using `npm run build`
2. Uses [lychee](https://github.com/lycheeverse/lychee) to check all links in HTML files
3. Excludes social media sites (LinkedIn, Twitter/X, Facebook, Instagram, YouTube)
4. Excludes academic profile sites prone to rate limiting (ResearchGate, Google Scholar, ORCID)
5. Fails the workflow if broken links are found
6. Automatically creates an issue when broken links are detected

**To view link check results:**
- Go to the "Actions" tab in GitHub
- Click on "Link Checker" workflow
- View the latest run for detailed results

